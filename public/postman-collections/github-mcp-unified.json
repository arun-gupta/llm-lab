{
  "info": {
    "name": "MCP - GitHub Repository Analysis",
    "description": "Model Context Protocol (MCP) integration for GitHub. Analyze repositories, issues, pull requests, and gists using GitHub's MCP server.\n\nðŸ”§ **Setup Instructions:**\n1. Set your `github_token` variable to your GitHub Personal Access Token\n2. Set your `repo_owner` and `repo_name` variables\n3. Set `top_n_gists` to control how many gists to fetch\n4. Run requests in order for best results\n\nâœ… **What You Get:**\n- Repository information and statistics via MCP\n- Recent issues (open and closed) via MCP\n- Active pull requests via MCP\n- Top N gists from the user via MCP\n- Comprehensive repository health report via MCP\n\nðŸš€ **MCP Features:**\n- Automatic session management\n- Robust error handling\n- Cross-request data sharing\n- Real-time GitHub data via MCP protocol",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "github_token",
      "value": "{{github_token}}",
      "type": "string"
    },
    {
      "key": "repo_owner",
      "value": "arun-gupta",
      "type": "string"
    },
    {
      "key": "repo_name",
        "value": "postman-labs",
      "type": "string"
    },
    
    {
      "key": "mcp_session_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Initialize MCP Session (Optional)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{github_token}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"initialize\",\n  \"params\": {\n    \"protocolVersion\": \"2024-11-05\",\n    \"capabilities\": {\n      \"tools\": {}\n    },\n    \"clientInfo\": {\n      \"name\": \"postman-mcp-client\",\n      \"version\": \"1.0.0\"\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://api.githubcopilot.com/mcp/",
          "protocol": "https",
          "host": ["api", "githubcopilot", "com"],
          "path": ["mcp", ""]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Extract session ID from response headers",
              "const sessionId = pm.response.headers.get('mcp-session-id');",
              "if (sessionId) {",
              "    pm.environment.set('mcp_session_id', sessionId);",
              "    console.log('âœ… MCP Session initialized:', sessionId);",
              "} else {",
              "    console.log('âš ï¸ No session ID found in response');",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "2. Get User Repositories",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{github_token}}",
            "type": "text"
          },
          {
            "key": "Mcp-Session-Id",
            "value": "{{mcp_session_id}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"search_repositories\",\n    \"arguments\": {\n      \"query\": \"user:{{repo_owner}}\",\n      \"perPage\": 5\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://api.githubcopilot.com/mcp/",
          "protocol": "https",
          "host": ["api", "githubcopilot", "com"],
          "path": ["mcp", ""]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Parse and display repositories information",
              "const response = pm.response.json();",
              "if (response.result && response.result.content) {",
              "    try {",
              "        const reposData = JSON.parse(response.result.content[0].text);",
              "        console.log('âœ… Found', reposData.total_count, 'repositories for', pm.environment.get('repo_owner'));",
              "        ",
              "        if (reposData.items && reposData.items.length > 0) {",
              "            // Show repository details",
              "            reposData.items.forEach((repo, index) => {",
              "                console.log(`   Repo ${index + 1}: ${repo.name || repo.full_name} (${repo.stargazers_count} stars)`);",
              "                console.log(`      Description: ${repo.description || 'No description'}`);",
              "                console.log(`      Language: ${repo.language || 'Multiple'}`);",
              "            });",
              "        } else {",
              "            console.log('   No repositories found for this user');",
              "        }",
              "    } catch (e) {",
              "        console.log('âš ï¸ Could not parse repositories data');",
              "    }",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "3. Get Repository Information",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{github_token}}",
            "type": "text"
          },
          {
            "key": "Mcp-Session-Id",
            "value": "{{mcp_session_id}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 3,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"search_repositories\",\n    \"arguments\": {\n      \"query\": \"repo:{{repo_owner}}/{{repo_name}}\",\n      \"perPage\": 1\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://api.githubcopilot.com/mcp/",
          "protocol": "https",
          "host": ["api", "githubcopilot", "com"],
          "path": ["mcp", ""]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Parse and display repository information",
              "const response = pm.response.json();",
              "if (response.result && response.result.content) {",
              "    try {",
              "        const reposData = JSON.parse(response.result.content[0].text);",
              "        if (reposData.items && reposData.items.length > 0) {",
              "            const repo = reposData.items[0];",
              "            console.log('âœ… Repository found:', repo.full_name);",
              "            console.log('   Description:', repo.description);",
              "            console.log('   Stars:', repo.stargazers_count);",
              "            console.log('   Forks:', repo.forks_count);",
              "            console.log('   Language:', repo.language);",
              "            console.log('   Created:', repo.created_at);",
              "            console.log('   Updated:', repo.updated_at);",
              "        } else {",
              "            console.log('âš ï¸ Repository not found');",
              "        }",
              "    } catch (e) {",
              "        console.log('âš ï¸ Could not parse repository data');",
              "    }",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "4. Get Repository Issues",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{github_token}}",
            "type": "text"
          },
          {
            "key": "Mcp-Session-Id",
            "value": "{{mcp_session_id}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 4,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"search_issues\",\n    \"arguments\": {\n      \"query\": \"repo:{{repo_owner}}/{{repo_name}} is:issue\",\n      \"perPage\": 10\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://api.githubcopilot.com/mcp/",
          "protocol": "https",
          "host": ["api", "githubcopilot", "com"],
          "path": ["mcp", ""]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Parse and display issues information",
              "const response = pm.response.json();",
              "if (response.result && response.result.content) {",
              "    try {",
              "        const issuesData = JSON.parse(response.result.content[0].text);",
              "        console.log('âœ… Found', issuesData.total_count, 'issues');",
              "        ",
              "        if (issuesData.items && issuesData.items.length > 0) {",
              "            const openIssues = issuesData.items.filter(issue => issue.state === 'open');",
              "            const closedIssues = issuesData.items.filter(issue => issue.state === 'closed');",
              "            ",
              "            console.log('   Open issues:', openIssues.length);",
              "            console.log('   Closed issues:', closedIssues.length);",
              "            ",
              "            // Show recent issues",
              "            issuesData.items.slice(0, 3).forEach((issue, index) => {",
              "                console.log(`   Issue ${index + 1}: ${issue.title} (${issue.state})`);",
              "            });",
              "        } else {",
              "            console.log('   No issues found in this repository');",
              "        }",
              "    } catch (e) {",
              "        console.log('âš ï¸ Could not parse issues data');",
              "    }",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "5. Get Pull Requests",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{github_token}}",
            "type": "text"
          },
          {
            "key": "Mcp-Session-Id",
            "value": "{{mcp_session_id}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 5,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"search_issues\",\n    \"arguments\": {\n      \"query\": \"repo:{{repo_owner}}/{{repo_name}} is:pr\",\n      \"perPage\": 10\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://api.githubcopilot.com/mcp/",
          "protocol": "https",
          "host": ["api", "githubcopilot", "com"],
          "path": ["mcp", ""]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Parse and display pull requests information",
              "const response = pm.response.json();",
              "if (response.result && response.result.content) {",
              "    try {",
              "        const prsData = JSON.parse(response.result.content[0].text);",
              "        console.log('âœ… Found', prsData.total_count, 'pull requests');",
              "        ",
              "        if (prsData.items && prsData.items.length > 0) {",
              "            const openPRs = prsData.items.filter(pr => pr.state === 'open');",
              "            const closedPRs = prsData.items.filter(pr => pr.state === 'closed');",
              "            ",
              "            console.log('   Open PRs:', openPRs.length);",
              "            console.log('   Closed PRs:', closedPRs.length);",
              "            ",
              "            // Show recent PRs",
              "            prsData.items.slice(0, 3).forEach((pr, index) => {",
              "                console.log(`   PR ${index + 1}: ${pr.title} (${pr.state})`);",
              "            });",
              "        } else {",
              "            console.log('   No pull requests found in this repository');",
              "        }",
              "    } catch (e) {",
              "        console.log('âš ï¸ Could not parse pull requests data');",
              "    }",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "6. Generate Repository Health Report",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{github_token}}",
            "type": "text"
          },
          {
            "key": "Mcp-Session-Id",
            "value": "{{mcp_session_id}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 6,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"search_repositories\",\n    \"arguments\": {\n      \"query\": \"repo:{{repo_owner}}/{{repo_name}}\",\n      \"perPage\": 1\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://api.githubcopilot.com/mcp/",
          "protocol": "https",
          "host": ["api", "githubcopilot", "com"],
          "path": ["mcp", ""]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "// Generate comprehensive repository health report",
              "const response = pm.response.json();",
              "if (response.result && response.result.content) {",
              "    try {",
              "        const reposData = JSON.parse(response.result.content[0].text);",
              "        if (reposData.items && reposData.items.length > 0) {",
              "            const repo = reposData.items[0];",
              "            ",
              "            console.log('ðŸ“Š REPOSITORY HEALTH REPORT');",
              "            console.log('========================');",
              "            console.log(`Repository: ${repo.full_name}`);",
              "            console.log(`Description: ${repo.description || 'No description'}`);",
              "            console.log(`Language: ${repo.language || 'Multiple'}`);",
              "            console.log(`Stars: ${repo.stargazers_count}`);",
              "            console.log(`Forks: ${repo.forks_count}`);",
              "            console.log(`Watchers: ${repo.watchers_count}`);",
              "            console.log(`Open Issues: ${repo.open_issues_count}`);",
              "            console.log(`Created: ${repo.created_at}`);",
              "            console.log(`Last Updated: ${repo.updated_at}`);",
              "            console.log(`License: ${repo.license?.name || 'No license'}`);",
              "            console.log(`Archived: ${repo.archived ? 'Yes' : 'No'}`);",
              "            console.log(`Private: ${repo.private ? 'Yes' : 'No'}`);",
              "            ",
              "            // Health indicators",
              "            const healthScore = calculateHealthScore(repo);",
              "            console.log(`\\nðŸ¥ HEALTH SCORE: ${healthScore}/100`);",
              "            ",
              "            if (healthScore >= 80) {",
              "                console.log('âœ… Repository is in excellent health!');",
              "            } else if (healthScore >= 60) {",
              "                console.log('âš ï¸ Repository needs some attention');",
              "            } else {",
              "                console.log('âŒ Repository needs immediate attention');",
              "            }",
              "        }",
              "    } catch (e) {",
              "        console.log('âš ï¸ Could not generate health report');",
              "    }",
              "}",
              "",
              "function calculateHealthScore(repo) {",
              "    let score = 100;",
              "    ",
              "    // Deduct points for issues",
              "    if (repo.open_issues_count > 10) score -= 20;",
              "    else if (repo.open_issues_count > 5) score -= 10;",
              "    ",
              "    // Deduct points for no description",
              "    if (!repo.description) score -= 10;",
              "    ",
              "    // Deduct points for no license",
              "    if (!repo.license) score -= 15;",
              "    ",
              "    // Deduct points for archived repos",
              "    if (repo.archived) score -= 30;",
              "    ",
              "    // Add points for stars",
              "    if (repo.stargazers_count > 100) score += 10;",
              "    else if (repo.stargazers_count > 10) score += 5;",
              "    ",
              "    return Math.max(0, Math.min(100, score));",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ]
}
